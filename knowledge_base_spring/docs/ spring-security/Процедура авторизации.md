# üõ°Ô∏è –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Spring Security

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [üîë –ß—Ç–æ —Ç–∞–∫–æ–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è?](#-—á—Ç–æ-—Ç–∞–∫–æ–µ-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- [üîÑ –û—Ç–ª–∏—á–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](#-–æ—Ç–ª–∏—á–∏–µ-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏-–æ—Ç-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- [üñºÔ∏è –°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏](#Ô∏è-—Å—Ö–µ–º–∞-–ø—Ä–æ—Ü–µ—Å—Å–∞-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- [‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏](#Ô∏è-–∫–ª—é—á–µ–≤—ã–µ-–º–µ—Ö–∞–Ω–∏–∑–º—ã-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- [üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞: Java –∏ JSP](#-–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-java-–∏-jsp)
- [üîç –ü—Ä–∞–∫—Ç–∏–∫–∞: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞](#-–ø—Ä–∞–∫—Ç–∏–∫–∞-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–¥–æ—Å—Ç—É–ø–∞)
- [‚ùì FAQ –∏ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏](#-faq-–∏-—Ç–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏)
- [üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ](#-–∑–∞–∫–ª—é—á–µ–Ω–∏–µ)

---

## üîë –ß—Ç–æ —Ç–∞–∫–æ–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è?

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏, –∏–º–µ–µ—Ç –ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∞–≤–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º. –í Spring Security –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª–∞, —Ñ–∏–ª—å—Ç—Ä—ã, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ —Ç–µ–≥–∏.

---

## üîÑ –û—Ç–ª–∏—á–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: "–ö—Ç–æ —Ç—ã?" (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å)
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: "–ß—Ç–æ —Ç–µ–±–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ?" (—Ä–æ–ª–∏, –ø—Ä–∞–≤–∞)

---

## üñºÔ∏è –°—Ö–µ–º–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```mermaid
graph TD
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B[–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è]
    B -->|–£—Å–ø–µ—Ö| C[SecurityContext]
    C --> D[–ó–∞–ø—Ä–æ—Å –∫ —Ä–µ—Å—É—Ä—Å—É]
    D --> E{–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤}
    E -- –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω --> F[–†–µ—Å—É—Ä—Å]
    E -- –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω --> G[–û—à–∏–±–∫–∞ 403 / Access Denied]
```

---

## ‚öôÔ∏è –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

| –ú–µ—Ö–∞–Ω–∏–∑–º | –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è | –ü—Ä–∏–º–µ—Ä |
|----------|----------------|--------|
| Java-–∫–æ–Ω—Ñ–∏–≥ | –í –∫–ª–∞—Å—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | `.antMatchers("/admin").hasRole("ADMIN")` |
| –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ | –ù–∞ –º–µ—Ç–æ–¥–∞—Ö/–∫–ª–∞—Å—Å–∞—Ö | `@PreAuthorize("hasRole('HR')")` |
| JSP-—Ç–µ–≥–∏ | –í –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö | `<security:authorize access="hasRole('MANAGER')">...</security:authorize>` |

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞: Java –∏ JSP

### Java-–∫–æ–Ω—Ñ–∏–≥ (WebSecurityConfigurerAdapter)
```java
@Override
protected void configure(HttpSecurity http) throws Exception {
    http.authorizeRequests()
        .antMatchers("/").hasAnyRole("EMPLOYEE", "MANAGER", "HR")
        .antMatchers("/hr_info").hasRole("HR")
        .antMatchers("/manager_info").hasRole("MANAGER")
        .and().formLogin().permitAll();
}
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ –º–µ—Ç–æ–¥–∞—Ö
```java
@PreAuthorize("hasRole('HR')")
public String getHRInfo() {
    // ...
}
```

### JSP-—Ç–µ–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```jsp
<security:authorize access="hasRole('HR')">
    <input type="button" value="–ó–∞—Ä–ø–ª–∞—Ç–∞" onclick="window.location.href='${pageContext.request.contextPath}/hr_info'"> –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ HR
</security:authorize>
<security:authorize access="hasRole('MANAGER')">
    <input type="button" value="–ù–∞–≥—Ä—É–∑–∫–∞" onclick="window.location.href='${pageContext.request.contextPath}/manager_info'"> –¢–æ–ª—å–∫–æ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
</security:authorize>
```

---

## üîç –ü—Ä–∞–∫—Ç–∏–∫–∞: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞

```mermaid
graph TD
    allUsers["–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"] --> employee["EMPLOYEE"]
    employee --> hr["HR"]
    hr --> manager["MANAGER"]
    employee --> mainPage["/ ‚Äî –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"]
    hr --> hrInfo["/hr_info ‚Äî HR –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"]
    manager --> managerInfo["/manager_info ‚Äî –ú–µ–Ω–µ–¥–∂–µ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"]
```

- `/` ‚Äî –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º —Å —Ä–æ–ª—è–º–∏ EMPLOYEE, HR, MANAGER
- `/hr_info` ‚Äî —Ç–æ–ª—å–∫–æ HR
- `/manager_info` ‚Äî —Ç–æ–ª—å–∫–æ MANAGER

---

## ‚ùì FAQ –∏ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

**Q: –ü–æ—á–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–æ–ª—å—é –Ω–µ –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É/—Å—Ç—Ä–∞–Ω–∏—Ü—É?**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ä–æ–ª—å —É–∫–∞–∑–∞–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–±–µ–∑ ROLE_ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –≤ hasRole)
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

**Q: –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–µ–Ω—é –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π?**
- –ò—Å–ø–æ–ª—å–∑—É–π `<security:authorize access="hasRole('...')">` –≤ JSP

**Q: –ö–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ REST-–º–µ—Ç–æ–¥–∞–º?**
- –ò—Å–ø–æ–ª—å–∑—É–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@PreAuthorize`, `@Secured` –Ω–∞ –º–µ—Ç–æ–¥–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

**Q: –ö–∞–∫ –æ—Ç–ª–∞–¥–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é?**
- –í–∫–ª—é—á–∏ debug: `@EnableWebSecurity(debug = true)`
- –õ–æ–≥–∏—Ä—É–π: `logging.level.org.springframework.security=DEBUG`

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤
- –í Spring Security –µ—Å—Ç—å –≥–∏–±–∫–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã: –∫–æ–Ω—Ñ–∏–≥, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, —Ç–µ–≥–∏
- –í–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–π –∏ —Ç–µ—Å—Ç–∏—Ä—É–π –ø—Ä–∞–≤–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- –î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤: –Ω–∞—á–Ω–∏ —Å antMatchers –∏ —Ç–µ–≥–æ–≤, –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º

