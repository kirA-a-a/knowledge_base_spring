## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [üö® –í–≤–µ–¥–µ–Ω–∏–µ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ Spring REST](#-–≤–≤–µ–¥–µ–Ω–∏–µ-–≤-–æ–±—Ä–∞–±–æ—Ç–∫—É-–∏—Å–∫–ª—é—á–µ–Ω–∏–π-–≤-spring-rest)
- [üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è](#-—Å–æ–∑–¥–∞–Ω–∏–µ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ-–∏—Å–∫–ª—é—á–µ–Ω–∏—è)
- [üì¶ –ö–ª–∞—Å—Å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ](#-–∫–ª–∞—Å—Å-–¥–ª—è-–ø–µ—Ä–µ–¥–∞—á–∏-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏-–æ–±-–æ—à–∏–±–∫–µ)
- [üéØ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ](#-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–∏—Å–∫–ª—é—á–µ–Ω–∏–π-–≤-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ)
- [üîÑ –ü—Ä–∏–º–µ—Ä –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ](#-–ø—Ä–∏–º–µ—Ä-–≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è-–∏—Å–∫–ª—é—á–µ–Ω–∏—è-–≤-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ)
- [üåê –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#-–≥–ª–æ–±–∞–ª—å–Ω—ã–π-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
- [üß© –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ—Ü–µ—Å—Å–∞-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
- [üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –ø–æ—à–∞–≥–æ–≤–æ](#-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–ø–æ—à–∞–≥–æ–≤–æ)
- [‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞](#-–≤–æ–∑–º–æ–∂–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∏—Ö-–æ–±—Ä–∞–±–æ—Ç–∫–∞)
- [üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏](#-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–∏-–¥–æ—Ä–∞–±–æ—Ç–∫–∏)

---

## üö® –í–≤–µ–¥–µ–Ω–∏–µ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ Spring REST

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π ‚Äî –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å –ª—é–±–æ–≥–æ REST API. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∫–ª–∏–µ–Ω—Ç—É, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ stacktrace –∏–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞.

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –Ω–æ–≤–∏—á–∫—É?**
- –£–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∞–º–∏.
- –î–µ–ª–∞–µ—Ç API –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –∏ —É–¥–æ–±–Ω—ã–º.

---

## üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

–°–æ–∑–¥–∞—ë–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —á—Ç–æ–±—ã —è–≤–Ω–æ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–†–∞–±–æ—Ç–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω").

```java
package com.safronov.spring.rest.exeption_handling;

public class NoSuchEmployeeExtension extends RuntimeException {
    public NoSuchEmployeeException(String message) {
        super(message);
    }
}
```
---

## üì¶ –ö–ª–∞—Å—Å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ

–≠—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–∫–∏.

```java
package com.safronov.spring.rest.exeption_handling;

public class EmployeeIncorrectData {
    private String info;

    public EmployeeIncorrectData() {}

    public String getInfo() { return info; }
    public void setInfo(String info) { this.info = info; }
}
```

---

## üéØ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

–î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É.

```java
@ExceptionHandler
public ResponseEntity<EmployeeIncorrectData> handleNoSuchEmployeeException(NoSuchEmployeeException e) {
    EmployeeIncorrectData data = new EmployeeIncorrectData();
    data.setInfo(e.getMessage());
    return new ResponseEntity<>(data, HttpStatus.NOT_FOUND);
}
```

```java
@ExceptionHandler
public ResponseEntity<EmployeeIncorrectData> handleOtherExceptions(Exception e) {
    EmployeeIncorrectData data = new EmployeeIncorrectData();
    data.setInfo(e.getMessage());
    return new ResponseEntity<>(data, HttpStatus.BAD_REQUEST);
}
```

---

## üîÑ –ü—Ä–∏–º–µ—Ä –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

```java
@GetMapping("employees/{id}")
public Employee getEmployeeById(@PathVariable("id") int id) {
    Employee employee = employeeService.getEmployeeById(id);
    if (employee == null) {
        throw new NoSuchEmployeeException(String.format("–†–∞–±–æ—Ç–Ω–∏–∫–∞ —Å id = '%d' –Ω–µ—Ç –≤ –ë–î", id));
    }
    return employee;
}
```

---

## üåê –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–õ—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π `@ControllerAdvice` ‚Äî —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.

```java
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler
    public ResponseEntity<EmployeeIncorrectData> handleNoSuchEmployeeException(NoSuchEmployeeException e) {
        EmployeeIncorrectData data = new EmployeeIncorrectData();
        data.setInfo(e.getMessage());
        return new ResponseEntity<>(data, HttpStatus.NOT_FOUND);
    }

    @ExceptionHandler
    public ResponseEntity<EmployeeIncorrectData> handleOtherExceptions(Exception e) {
        EmployeeIncorrectData data = new EmployeeIncorrectData();
        data.setInfo(e.getMessage());
        return new ResponseEntity<>(data, HttpStatus.BAD_REQUEST);
    }
}
```

---

## üß© –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```mermaid
flowchart TD
    A["–ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å (GET /employees/{id})"]
    B["–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏—â–µ—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –ø–æ id"]
    C{"–†–∞–±–æ—Ç–Ω–∏–∫ –Ω–∞–π–¥–µ–Ω?"}
    D["–í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–∞–±–æ—Ç–Ω–∏–∫–∞"]
    E["–í—ã–±—Ä–∞—Å—ã–≤–∞–µ–º NoSuchEmployeeException"]
    F["–ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ª–æ–≤–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ"]
    G["–§–æ—Ä–º–∏—Ä—É–µ–º JSON —Å –æ—à–∏–±–∫–æ–π"]
    H["–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π –∫–ª–∏–µ–Ω—Ç—É"]

    A --> B --> C
    C -- –î–∞ --> D
    C -- –ù–µ—Ç --> E --> F --> G --> H
```

---

## üìù –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –ø–æ—à–∞–≥–æ–≤–æ

1. **–ö–ª–∏–µ–Ω—Ç** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å: `GET /employees/123`
2. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** –∏—â–µ—Ç —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ —Å id=123
3. –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è `NoSuchEmployeeException`
4. **–ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫** –ª–æ–≤–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç JSON:
   ```json
   {
     "info": "–†–∞–±–æ—Ç–Ω–∏–∫–∞ —Å id = '123' –Ω–µ—Ç –≤ –ë–î"
   }
   ```
5. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π –∏ —Å—Ç–∞—Ç—É—Å–æ–º 404

---

## ‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞

- **–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø id** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫–∞ –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–∞): –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è –≤—Ç–æ—Ä—ã–º `@ExceptionHandler`, –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç –æ—à–∏–±–∫—É —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º.
- **–†–∞–±–æ—Ç–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω**: –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º `@ExceptionHandler`, –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

---
