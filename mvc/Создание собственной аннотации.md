Аннотация - это спецаильная форма метаданных, которая может быть добавлена в исходный код



```Java
@Override
public void go() {

}
```


> Данная аннотация нам говорит, что данный метод перезаписываем метод родителя



Аннотированы могут быть пакеты, классы, методы, поля класса и параметры, локальные переменные

## Создание собственной аннотации



Для создания своей аннотации испуользуется слово @interface



```Java
public @interface Version {
    String info();
}
```




Аннотация @Retention

RetentionPolicy.SOURCE - аннотация используется на этапе помпиляции и должна отбрасываться компилятором

RetentionPolicy.CLASS - аннотация будет записана в class-файл компилятором, но не должна быть доступна во время выполнения (runtime)

RetentionPolicy.RUNTIME - аннотация будет записана в class-файл и доступна во время выполения через reflection



Для того, чтобы ограничить использование аннотации ее нужно проаннотировать, для этого существует аннотация @Target

Данная аннотация может использоваться для пакетов (PACKAGE), классов (TYPE), конструкторов (CONSTRUCTOR), методов (METHOD), переменнных класса (FIELD), параметов метода (PARAMATER), локальных переменных (LOCAL_VARIABLE)



```Java
import javax.validation.Constraint;
import javax.validation.Payload;
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Constraint(validatedBy = EmailDomainValidator.class) // Связь с валидатором
@Target({ ElementType.FIELD, ElementType.PARAMETER }) // Применяется к полям и параметрам
@Retention(RetentionPolicy.RUNTIME) // Доступна во время выполнения
public @interface ValidEmailDomain {
    String message() default "Строка должна заканчиваться на @test.ru"; // Сообщение об ошибке
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
}
```




```Java
import javax.validation.ConstraintValidator;
import javax.validation.ConstraintValidatorContext;

public class EmailDomainValidator implements ConstraintValidator<ValidEmailDomain, String> {

    @Override
    public void initialize(ValidEmailDomain constraintAnnotation) {
        // Инициализация (не требуется)
    }

    @Override
    public boolean isValid(String email, ConstraintValidatorContext context) {
        if (email == null) return false; // Проверка на null
        return email.endsWith("@test.ru"); // Проверка окончания строки
    }
}
```